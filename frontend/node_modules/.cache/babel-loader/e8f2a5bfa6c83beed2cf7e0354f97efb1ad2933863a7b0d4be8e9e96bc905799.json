{"ast":null,"code":"import axios from \"axios\";\nclass UserService {\n  static async login(email, password) {\n    try {\n      const response = await axios.post(`${UserService.BASE_URL}/auth/login`, {\n        email,\n        password\n      });\n      return response.data;\n    } catch (err) {\n      throw err;\n    }\n  }\n  static async register(userData, token) {\n    try {\n      const response = await axios.post(`${UserService.BASE_URL}/auth/register`, userData, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      return response.data;\n    } catch (err) {\n      throw err;\n    }\n  }\n  static async getAllUsers(token) {\n    try {\n      const response = await axios.get(`${UserService.BASE_URL}/admin/get-all-users`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      return response.data;\n    } catch (err) {\n      throw err;\n    }\n  }\n  static async getYourProfile(token) {\n    try {\n      const response = await axios.get(`${UserService.BASE_URL}/adminuser/get-profile`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      return response.data;\n    } catch (err) {\n      throw err;\n    }\n  }\n  static async getUserById(userId, token) {\n    try {\n      const response = await axios.get(`${UserService.BASE_URL}/admin/get-users/${userId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      return response.data;\n    } catch (err) {\n      throw err;\n    }\n  }\n  static async deleteUser(userId, token) {\n    try {\n      const response = await axios.delete(`${UserService.BASE_URL}/admin/delete/${userId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      return response.data;\n    } catch (err) {\n      throw err;\n    }\n  }\n  static async updateUser(userId, userData, token) {\n    try {\n      const response = await axios.put(`${UserService.BASE_URL}/admin/update/${userId}`, userData, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      return response.data;\n    } catch (err) {\n      throw err;\n    }\n  }\n\n  /**AUTHENTICATION CHECKER */\n  static logout() {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"role\");\n  }\n  static isAuthenticated() {\n    const token = localStorage.getItem(\"token\");\n    return !!token;\n  }\n  static isAdmin() {\n    const role = localStorage.getItem(\"role\");\n    return role === \"ADMIN\";\n  }\n  static isUser() {\n    const role = localStorage.getItem(\"role\");\n    return role === \"USER\";\n  }\n  static adminOnly() {\n    return this.isAuthenticated() && this.isAdmin();\n  }\n}\nUserService.BASE_URL = \"http://localhost:8080\";\nexport default UserService;","map":{"version":3,"names":["axios","UserService","login","email","password","response","post","BASE_URL","data","err","register","userData","token","headers","Authorization","getAllUsers","get","getYourProfile","getUserById","userId","deleteUser","delete","updateUser","put","logout","localStorage","removeItem","isAuthenticated","getItem","isAdmin","role","isUser","adminOnly"],"sources":["E:/Tugas/Kuliah/Semester 5/PBO/Testing Tubes/users-management-system/spring-boot + react/frontend/src/components/service/UserService.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nclass UserService {\r\n  static BASE_URL = \"http://localhost:8080\";\r\n\r\n  static async login(email, password) {\r\n    try {\r\n      const response = await axios.post(`${UserService.BASE_URL}/auth/login`, {\r\n        email,\r\n        password,\r\n      });\r\n      return response.data;\r\n    } catch (err) {\r\n      throw err;\r\n    }\r\n  }\r\n\r\n  static async register(userData, token) {\r\n    try {\r\n      const response = await axios.post(\r\n        `${UserService.BASE_URL}/auth/register`,\r\n        userData,\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        }\r\n      );\r\n      return response.data;\r\n    } catch (err) {\r\n      throw err;\r\n    }\r\n  }\r\n\r\n  static async getAllUsers(token) {\r\n    try {\r\n      const response = await axios.get(\r\n        `${UserService.BASE_URL}/admin/get-all-users`,\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        }\r\n      );\r\n      return response.data;\r\n    } catch (err) {\r\n      throw err;\r\n    }\r\n  }\r\n\r\n  static async getYourProfile(token) {\r\n    try {\r\n      const response = await axios.get(\r\n        `${UserService.BASE_URL}/adminuser/get-profile`,\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        }\r\n      );\r\n      return response.data;\r\n    } catch (err) {\r\n      throw err;\r\n    }\r\n  }\r\n\r\n  static async getUserById(userId, token) {\r\n    try {\r\n      const response = await axios.get(\r\n        `${UserService.BASE_URL}/admin/get-users/${userId}`,\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        }\r\n      );\r\n      return response.data;\r\n    } catch (err) {\r\n      throw err;\r\n    }\r\n  }\r\n\r\n  static async deleteUser(userId, token) {\r\n    try {\r\n      const response = await axios.delete(\r\n        `${UserService.BASE_URL}/admin/delete/${userId}`,\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        }\r\n      );\r\n      return response.data;\r\n    } catch (err) {\r\n      throw err;\r\n    }\r\n  }\r\n\r\n  static async updateUser(userId, userData, token) {\r\n    try {\r\n      const response = await axios.put(\r\n        `${UserService.BASE_URL}/admin/update/${userId}`,\r\n        userData,\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        }\r\n      );\r\n      return response.data;\r\n    } catch (err) {\r\n      throw err;\r\n    }\r\n  }\r\n\r\n  /**AUTHENTICATION CHECKER */\r\n  static logout() {\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"role\");\r\n  }\r\n\r\n  static isAuthenticated() {\r\n    const token = localStorage.getItem(\"token\");\r\n    return !!token;\r\n  }\r\n\r\n  static isAdmin() {\r\n    const role = localStorage.getItem(\"role\");\r\n    return role === \"ADMIN\";\r\n  }\r\n\r\n  static isUser() {\r\n    const role = localStorage.getItem(\"role\");\r\n    return role === \"USER\";\r\n  }\r\n\r\n  static adminOnly() {\r\n    return this.isAuthenticated() && this.isAdmin();\r\n  }\r\n}\r\n\r\nexport default UserService;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}